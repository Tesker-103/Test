
local cloneref = cloneref or function(o) return o end


KMouse = cloneref(Game:GetService("Players").LocalPlayer:GetMouse())
LclPlayer = cloneref(game:GetService("Players").LocalPlayer)
CoreGui = cloneref(game:GetService("CoreGui"))
Players = cloneref(game:GetService("Players"))
HttpService = cloneref(game:GetService("HttpService"))

local TABS = {
{
Name = 'LocalPlayer';
Icon = 'rbxassetid://17314505102';
};
};

function chatMessage(str)
    str = tostring(str)
    if TextChatService.ChatVersion == Enum.ChatVersion.TextChatService then
        TextChatService.TextChannels.RBXGeneral:SendAsync(str)
    else
        ReplicatedStorage.DefaultChatSystemChatEvents.SayMessageRequest:FireServer(str, "All")
    end
end

function defaultnotify(title,content)
Notify({"rbxassetid://14549990176", Color3.fromRGB(0,0,0)}, title, content)
end

function splitString(str,delim)
	local broken = {}
	if delim == nil then delim = "," end
	for w in string.gmatch(str,"[^"..delim.."]+") do
		table.insert(broken,w)
	end
	return broken
end
function toTokens(str)
	local tokens = {}
	for op,name in string.gmatch(str,"([+-])([^+-]+)") do
		table.insert(tokens,{Operator = op,Name = name})
	end
	return tokens
end
local WTS = function(Object)
	local ObjectVector = workspace.CurrentCamera:WorldToScreenPoint(Object.Position)
	return Vector2.new(ObjectVector.X, ObjectVector.Y)
end
local mouse = Players.LocalPlayer:GetMouse()
local MousePositionToVector2 = function()
	return Vector2.new(mouse.X, mouse.Y)
end
local GetClosestPlayerFromCursor = function()
	local found = nil
	local ClosestDistance = math.huge
	for i, v in pairs(Players:GetPlayers()) do
		if v ~= Players.LocalPlayer and v.Character and v.Character:FindFirstChildOfClass("Humanoid") then
			for k, x in pairs(v.Character:GetChildren()) do
				if string.find(x.Name, "Torso") then
					local Distance = (WTS(x) - MousePositionToVector2()).Magnitude
					if Distance < ClosestDistance then
						ClosestDistance = Distance
						found = v
					end
				end
			end
		end
	end
	return found
end
local SpecialPlayerCases = {
	["all"] = function(speaker) return Players:GetPlayers() end,
	["others"] = function(speaker)
		local plrs = {}
		for i,v in pairs(Players:GetPlayers()) do
			if v ~= speaker then
				table.insert(plrs,v)
			end
		end
		return plrs
	end,
	["me"] = function(speaker)return {speaker} end,
	["#(%d+)"] = function(speaker,args,currentList)
		local returns = {}
		local randAmount = tonumber(args[1])
		local players = {unpack(currentList)}
		for i = 1,randAmount do
			if #players == 0 then break end
			local randIndex = math.random(1,#players)
			table.insert(returns,players[randIndex])
			table.remove(players,randIndex)
		end
		return returns
	end,
	["random"] = function(speaker,args,currentList)
		local players = Players:GetPlayers()
		local localplayer = Players.LocalPlayer
		table.remove(players, table.find(players, localplayer))
		return {players[math.random(1,#players)]}
	end,
	["%%(.+)"] = function(speaker,args)
		local returns = {}
		local team = args[1]
		for _,plr in pairs(Players:GetPlayers()) do
			if plr.Team and string.sub(string.lower(plr.Team.Name),1,#team) == string.lower(team) then
				table.insert(returns,plr)
			end
		end
		return returns
	end,
	["allies"] = function(speaker)
		local returns = {}
		local team = speaker.Team
		for _,plr in pairs(Players:GetPlayers()) do
			if plr.Team == team then
				table.insert(returns,plr)
			end
		end
		return returns
	end,
	["enemies"] = function(speaker)
		local returns = {}
		local team = speaker.Team
		for _,plr in pairs(Players:GetPlayers()) do
			if plr.Team ~= team then
				table.insert(returns,plr)
			end
		end
		return returns
	end,
	["team"] = function(speaker)
		local returns = {}
		local team = speaker.Team
		for _,plr in pairs(Players:GetPlayers()) do
			if plr.Team == team then
				table.insert(returns,plr)
			end
		end
		return returns
	end,
	["nonteam"] = function(speaker)
		local returns = {}
		local team = speaker.Team
		for _,plr in pairs(Players:GetPlayers()) do
			if plr.Team ~= team then
				table.insert(returns,plr)
			end
		end
		return returns
	end,
	["friends"] = function(speaker,args)
		local returns = {}
		for _,plr in pairs(Players:GetPlayers()) do
			if plr:IsFriendsWith(speaker.UserId) and plr ~= speaker then
				table.insert(returns,plr)
			end
		end
		return returns
	end,
	["nonfriends"] = function(speaker,args)
		local returns = {}
		for _,plr in pairs(Players:GetPlayers()) do
			if not plr:IsFriendsWith(speaker.UserId) and plr ~= speaker then
				table.insert(returns,plr)
			end
		end
		return returns
	end,
	["guests"] = function(speaker,args)
		local returns = {}
		for _,plr in pairs(Players:GetPlayers()) do
			if plr.Guest then
				table.insert(returns,plr)
			end
		end
		return returns
	end,
	["bacons"] = function(speaker,args)
		local returns = {}
		for _,plr in pairs(Players:GetPlayers()) do
			if plr.Character:FindFirstChild('Pal Hair') or plr.Character:FindFirstChild('Kate Hair') then
				table.insert(returns,plr)
			end
		end
		return returns
	end,
	["age(%d+)"] = function(speaker,args)
		local returns = {}
		local age = tonumber(args[1])
		if not age == nil then return end
		for _,plr in pairs(Players:GetPlayers()) do
			if plr.AccountAge <= age then
				table.insert(returns,plr)
			end
		end
		return returns
	end,
	["nearest"] = function(speaker,args,currentList)
		local speakerChar = speaker.Character
		if not speakerChar or not getRoot(speakerChar) then return end
		local lowest = math.huge
		local NearestPlayer = nil
		for _,plr in pairs(currentList) do
			if plr ~= speaker and plr.Character then
				local distance = plr:DistanceFromCharacter(getRoot(speakerChar).Position)
				if distance < lowest then
					lowest = distance
					NearestPlayer = {plr}
				end
			end
		end
		return NearestPlayer
	end,
	["farthest"] = function(speaker,args,currentList)
		local speakerChar = speaker.Character
		if not speakerChar or not getRoot(speakerChar) then return end
		local highest = 0
		local Farthest = nil
		for _,plr in pairs(currentList) do
			if plr ~= speaker and plr.Character then
				local distance = plr:DistanceFromCharacter(getRoot(speakerChar).Position)
				if distance > highest then
					highest = distance
					Farthest = {plr}
				end
			end
		end
		return Farthest
	end,
	["group(%d+)"] = function(speaker,args)
		local returns = {}
		local groupID = tonumber(args[1])
		for _,plr in pairs(Players:GetPlayers()) do
			if plr:IsInGroup(groupID) then  
				table.insert(returns,plr)
			end
		end
		return returns
	end,
	["alive"] = function(speaker,args)
		local returns = {}
		for _,plr in pairs(Players:GetPlayers()) do
			if plr.Character and plr.Character:FindFirstChildOfClass("Humanoid") and plr.Character:FindFirstChildOfClass("Humanoid").Health > 0 then
				table.insert(returns,plr)
			end
		end
		return returns
	end,
	["dead"] = function(speaker,args)
		local returns = {}
		for _,plr in pairs(Players:GetPlayers()) do
			if (not plr.Character or not plr.Character:FindFirstChildOfClass("Humanoid")) or plr.Character:FindFirstChildOfClass("Humanoid").Health <= 0 then
				table.insert(returns,plr)
			end
		end
		return returns
	end,
	["radius(%d+)"] = function(speaker,args)
		local returns = {}
		local radius = tonumber(args[1])
		local speakerChar = speaker.Character
		if not speakerChar or not getRoot(speakerChar) then return end
		for _,plr in pairs(Players:GetPlayers()) do
			if plr.Character and getRoot(plr.Character) then
				local magnitude = (getRoot(plr.Character).Position-getRoot(speakerChar).Position).magnitude
				if magnitude <= radius then table.insert(returns,plr) end
			end
		end
		return returns
	end,
	["cursor"] = function(speaker)
		local plrs = {}
		local v = GetClosestPlayerFromCursor()
		if v ~= nil then table.insert(plrs, v) end
		return plrs
	end,
}
function onlyIncludeInTable(tab,matches)
	local matchTable = {}
	local resultTable = {}
	for i,v in pairs(matches) do matchTable[v.Name] = true end
	for i,v in pairs(tab) do if matchTable[v.Name] then table.insert(resultTable,v) end end
	return resultTable
end

function removeTableMatches(tab,matches)
	local matchTable = {}
	local resultTable = {}
	for i,v in pairs(matches) do matchTable[v.Name] = true end
	for i,v in pairs(tab) do if not matchTable[v.Name] then table.insert(resultTable,v) end end
	return resultTable
end

function getPlayersByName(Name)
	local Name,Len,Found = string.lower(Name),#Name,{}
	for _,v in pairs(Players:GetPlayers()) do
		if Name:sub(0,1) == '@' then
			if string.sub(string.lower(v.Name),1,Len-1) == Name:sub(2) then
				table.insert(Found,v)
			end
		else
			if string.sub(string.lower(v.Name),1,Len) == Name or string.sub(string.lower(v.DisplayName),1,Len) == Name then
				table.insert(Found,v)
			end
		end
	end
	return Found
end

function GetPlayer(list,speaker)
speaker = Players.LocalPlayer
	if list == nil then return {speaker.Name} end
	local nameList = splitString(list,",")

	local foundList = {}

	for _,name in pairs(nameList) do
		if string.sub(name,1,1) ~= "+" and string.sub(name,1,1) ~= "-" then name = "+"..name end
		local tokens = toTokens(name)
		local initialPlayers = Players:GetPlayers()

		for i,v in pairs(tokens) do
			if v.Operator == "+" then
				local tokenContent = v.Name
				local foundCase = false
				for regex,case in pairs(SpecialPlayerCases) do
					local matches = {string.match(tokenContent,"^"..regex.."$")}
					if #matches > 0 then
						foundCase = true
						initialPlayers = onlyIncludeInTable(initialPlayers,case(speaker,matches,initialPlayers))
					end
				end
				if not foundCase then
					initialPlayers = onlyIncludeInTable(initialPlayers,getPlayersByName(tokenContent))
				end
			else
				local tokenContent = v.Name
				local foundCase = false
				for regex,case in pairs(SpecialPlayerCases) do
					local matches = {string.match(tokenContent,"^"..regex.."$")}
					if #matches > 0 then
						foundCase = true
						initialPlayers = removeTableMatches(initialPlayers,case(speaker,matches,initialPlayers))
					end
				end
				if not foundCase then
					initialPlayers = removeTableMatches(initialPlayers,getPlayersByName(tokenContent))
				end
			end
		end

		for i,v in pairs(initialPlayers) do table.insert(foundList,v) end
	end

	local foundNames = {}
	for i,v in pairs(foundList) do table.insert(foundNames,v.Name) end

	return foundNames
end

local function tpall()
for i, player in ipairs(game:GetService("Players"):GetPlayers()) do
if player.Character and player.Character:FindFirstChild("HumanoidRootPart")then 
player.Character.HumanoidRootPart.CFrame = LclPlayer.Character.HumanoidRootPart.CFrame + LclPlayer.Character.HumanoidRootPart.CFrame.lookVector * 1
end
end
end

spawn(function()
while wait() do
if cbringall == true then
tpall()
end
end
end)

function isNumber(str)
	if tonumber(str) ~= nil or str == 'inf' then
		return true
	end
end
RunService = cloneref(game:GetService("RunService"))
soundspamming = false
anniblockspam = false

RunService.Stepped:connect(function()
if anniblockspam then
pcall(function()
game.workspace.Tools.Chest_Invisibility_Cloak.Part.CFrame = CFrame.new(LclPlayer.Character.HumanoidRootPart.Position)

if LclPlayer.Backpack:FindFirstChild("InvisibilityCloak") then
LclPlayer.Character.Humanoid:EquipTool(LclPlayer.Backpack.InvisibilityCloak)
else
end

LclPlayer.Character:FindFirstChildOfClass("Tool").Parent = workspace
end)
end

if soundspamming then
for _, sound in pairs(game.workspace:GetDescendants()) do
if sound:IsA("Sound") then
sound:Play()
end
end
end
end)


toggleman = KCBar
PlayerGui = Players.LocalPlayer:FindFirstChildWhichIsA("PlayerGui")
UserInputService = cloneref(game:GetService("UserInputService"))
TweenService = cloneref(game:GetService("TweenService"))
MarketplaceService = cloneref(game:GetService("MarketplaceService"))

TeleportService = cloneref(game:GetService("TeleportService"))
StarterGui = cloneref(game:GetService("StarterGui"))
GuiService = cloneref(game:GetService("GuiService"))
Lighting = cloneref(game:GetService("Lighting"))
ContextActionService = cloneref(game:GetService("ContextActionService"))
NetworkClient = cloneref(game:GetService("NetworkClient"))
ReplicatedStorage = cloneref(game:GetService("ReplicatedStorage"))
GroupService = cloneref(game:GetService("GroupService"))
PathService = cloneref(game:GetService("PathfindingService"))
SoundService = cloneref(game:GetService("SoundService"))
Teams = cloneref(game:GetService("Teams"))
StarterPlayer = cloneref(game:GetService("StarterPlayer"))
InsertService = cloneref(game:GetService("InsertService"))
ChatService = cloneref(game:GetService("Chat"))
ProximityPromptService = cloneref(game:GetService("ProximityPromptService"))
StatsService = cloneref(game:GetService("Stats"))
MaterialService = cloneref(game:GetService("MaterialService"))
AvatarEditorService = cloneref(game:GetService("AvatarEditorService"))
TextChatService = cloneref(game:GetService("TextChatService"))
VirtualUser = cloneref(game:GetService("VirtualUser"))

sethidden = sethiddenproperty or set_hidden_property or set_hidden_prop
gethidden = gethiddenproperty or get_hidden_property or get_hidden_prop
queueteleport = (syn and syn.queue_on_teleport) or queue_on_teleport or (fluxus and fluxus.queue_on_teleport)
httprequest = (syn and syn.request) or (http and http.request) or http_request or (fluxus and fluxus.request) or request
PlaceId, JobId = game.PlaceId, game.JobId
local IsOnMobile = table.find({Enum.Platform.IOS, Enum.Platform.Android}, UserInputService:GetPlatform())
everyClipboard = setclipboard or toclipboard or set_clipboard or (Clipboard and Clipboard.set)

RCDEnabled = false
if gethidden(workspace, "RejectCharacterDeletions") == Enum.RejectCharacterDeletions.Default or gethidden(workspace, "RejectCharacterDeletions") == Enum.RejectCharacterDeletions.Enabled then
RCDEnabled = true
end


local CMDBARK = Instance.new("ScreenGui")
local CMDBARF = Instance.new("Frame")
local CBARST = Instance.new("UIStroke")
local CBARG = Instance.new("UIGradient")
local CMDBARAK = Instance.new("ImageButton")
local CMDBAKDOR = Instance.new("ImageButton")
local CMDBARKTB = Instance.new("TextBox")

CMDBARK.Name = "CMDBARK"
CMDBARK.Parent = CoreGui

CMDBARF.Name = "CMDBARF"
CMDBARF.Parent = CMDBARK
CMDBARF.BackgroundColor3 = Color3.fromRGB(20,20,20)
CMDBARF.BackgroundTransparency = 1
CMDBARF.BorderColor3 = Color3.fromRGB(0,0,0)
CMDBARF.BorderSizePixel = 0
CMDBARF.Position = UDim2.new(0.277999997, 0, 0.0001, 0)
CMDBARF.Size = UDim2.new(0.443027914, 0, 0.0690634657, 0)
CMDBARF.Visible = false

CBARST.Parent = CMDBARF
CBARST.Color = Color3.fromRGB(255,255,255)
CBARST.Thickness = 1.3
CBARST.Transparency = 0.5

CBARG.Parent = CBARST
CBARG.Color = ColorSequence.new({
    ColorSequenceKeypoint.new(0, Color3.fromRGB(209,0,0)),
    ColorSequenceKeypoint.new(0.167, Color3.fromRGB(255,102,34)),
    ColorSequenceKeypoint.new(0.333, Color3.fromRGB(255,218,33)),
    ColorSequenceKeypoint.new(0.5, Color3.fromRGB(51,221,0)),
    ColorSequenceKeypoint.new(0.667, Color3.fromRGB(17,51,204)),
    ColorSequenceKeypoint.new(0.833, Color3.fromRGB(34,0,102)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(51,0,68))
})
coroutine.wrap(function()
local UIGradient = CBARG
while true do
 UIGradient.Rotation += 0.32
 task.wait()
end
end)()

CMDBARAK.Name = "CMDBARAK"
CMDBARAK.Parent = CMDBARF
CMDBARAK.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
CMDBARAK.BackgroundTransparency = 1.000
CMDBARAK.BorderColor3 = Color3.fromRGB(0, 0, 0)
CMDBARAK.BorderSizePixel = 0
CMDBARAK.Position = UDim2.new(0.01, 0, 1.022, 0)
CMDBARAK.Size = UDim2.new(0.071, 0, -1.04, 0)
CMDBARAK.Image = "rbxassetid://71337512335488"
coroutine.wrap(function()
while true do
	for i = 1, 360 do
		CMDBARAK.ImageColor3 = Color3.fromHSV(i / 360, 1, 1)
		task.wait()
	end
end
end)()

CMDBAKDOR.Name = "CMDBAKDOR"
CMDBAKDOR.Parent = CMDBARF
CMDBAKDOR.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
CMDBAKDOR.BackgroundTransparency = 1.000
CMDBAKDOR.BorderColor3 = Color3.fromRGB(0, 0, 0)
CMDBAKDOR.BorderSizePixel = 0
CMDBAKDOR.Position = UDim2.new(0.92, 0, 1.022, 0)
CMDBAKDOR.Size = UDim2.new(0.071, 0, -1.04, 0)
CMDBAKDOR.Image = "rbxassetid://106598185888071"
CMDBAKDOR.Visible = false

CMDBARKTB.Name = "CMDBARKTB"
CMDBARKTB.Parent = CMDBARF
CMDBARKTB.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
CMDBARKTB.BackgroundTransparency = 1.000
CMDBARKTB.BorderColor3 = Color3.fromRGB(0, 0, 0)
CMDBARKTB.BorderSizePixel = 0
CMDBARKTB.Position = UDim2.new(0.100000091, 0, 9.0288728e-07, 0)
CMDBARKTB.Size = UDim2.new(0.828057408, 0, 0.999998212, 0)
CMDBARKTB.Font = Enum.Font.BuilderSans
CMDBARKTB.PlaceholderText = "Press 'K' To Open Menu"
CMDBARKTB.Text = ""
CMDBARKTB.TextColor3 = Color3.fromRGB(255, 255, 255)
CMDBARKTB.TextSize = 27.000
CMDBARKTB.TextWrapped = true
CMDBARKTB.TextXAlignment = Enum.TextXAlignment.Left
CMDBARKTB.FocusLost:Connect(function()
CMDBARKTB.Text = ""
end)


function createnew(object, tblhld)
local newobj = Instance.new(object)
for i,v in pairs(tblhld) do
newobj[i] = v
end
return newobj
end

function createShadow(parent)
return createnew('Frame', {
Size = UDim2.new(1, 8, 1, 8);
Position = UDim2.new(0, -4, 0, -4);
Style = Enum.FrameStyle.DropShadow;
ZIndex = parent.ZIndex - 1;
Parent = parent;
})
end

function createSmallShadow(parent)
return createnew('Frame', {
Size = UDim2.new(1, 6, 1, 6);
Position = UDim2.new(0, -3, 0, -3);
Style = Enum.FrameStyle.DropShadow;
ZIndex = parent.ZIndex - 1;
Parent = parent;
})
end

function createIcon(ic, prop, clik)
local nic = createnew(clik and 'ImageButton' or 'ImageLabel', {
Image = ic;
BackgroundTransparency = 1;
})
for i,v in pairs(prop) do
nic[i] = v
end
return nic
end

function Children(parent,func)
coroutine.wrap(function()
for i,v in pairs(parent:children())do
pcall(function()
func(v)
end)
pcall(function()
Children(v,func)
end)
end
end)()
end

function httpGet(query)
return game:HttpGet(query, true)
end

function materializebutton(button)
function CreateInstance(cls,props) 
local inst = Instance.new(cls); 
for i,v in pairs(props) do 
inst[i] = v 
end;
return inst 
end;



button.AutoButtonColor = false;



--<< Setting(s) >>--

local HoverFX_Color = button.TextColor3

--<< Instance(s) >>--

local hoverfx = CreateInstance("Frame", {Size = UDim2.new(1,0,1,0),Parent=button, Name="HoverFX_now_stop_stalking",AnchorPoint = Vector2.new(0, 0), BackgroundColor3=HoverFX_Color,BorderSizePixel=0,ClipsDescendants=true,BackgroundTransparency=1,Position=UDim2.new(0,0,0,0),Visible=true,ZIndex=button.ZIndex+1})

--<< Function >>--

button.InputBegan:Connect(function(Input)
if Input.UserInputType == Enum.UserInputType.MouseMovement then
TweenService:Create(hoverfx, TweenInfo.new(.09,Enum.EasingStyle.Linear,Enum.EasingDirection.Out,0,false,0), {BackgroundTransparency = 0.76}):Play()
end
end)

button.InputEnded:Connect(function(Input)
if Input.UserInputType == Enum.UserInputType.MouseMovement then
TweenService:Create(hoverfx, TweenInfo.new(.09,Enum.EasingStyle.Linear,Enum.EasingDirection.Out,0,false,0), {BackgroundTransparency = 1}):Play()
end
end)

mouse = KMouse

local function click()
mouse = KMouse
local diagonal = math.sqrt((button.Size.X.Offset) ^ 2 + (button.Size.Y.Offset) ^ 2)
local x = (mouse.X) - (button.AbsolutePosition.X);
local y = (mouse.Y) - (button.AbsolutePosition.Y);
local circle = CreateInstance('ImageLabel', {Name = "CircleLabel", Parent = hoverfx, AnchorPoint = Vector2.new(0.5, 0.5), BackgroundColor3 = Color3.fromRGB(255,255,255), BackgroundTransparency = 1, BorderSizePixel = 0, Position = UDim2.new(0,0,0,0), Size = UDim2.new(0,50,0,50), Visible = false, Image = "rbxasset://textures/whiteCircle.png", ImageColor3 = button.TextColor3, ImageTransparency = .76})

--<< Settings [Button Function] >>--

--<| TIP |>: If you want to use color values ranging from 0 - 255 change new to .fromRGB or add r/255 g/255 b/255

circle.Position = UDim2.new(0,x,0,y);

circle.Size = UDim2.new(0,0,0,0);

circle.ImageTransparency = .76;

circle.Visible = true;

circle.ZIndex = button.ZIndex + 2

local size = UDim2.new(0, diagonal * 2.15, 0, diagonal * 2.15)

--<< Script >>--


button.InputEnded:Connect(function(Input)
if Input.UserInputType == Enum.UserInputType.MouseMovement then
while wait() do
if circle.Size == size then
TweenService:Create(circle, TweenInfo.new(.3,Enum.EasingStyle.Linear,Enum.EasingDirection.Out,0,false,0), {ImageTransparency = 1}):Play()
wait(1.2) 
circle:Destroy()
break
end
end
end
end)

button.MouseButton1Up:Connect(function()
wait(0.17)
TweenService:Create(circle, TweenInfo.new(.3,Enum.EasingStyle.Linear,Enum.EasingDirection.Out,0,false,0), {ImageTransparency = 1}):Play()
wait(1.2) 
circle:Destroy()
end)

circle:TweenSize(size,"Out","Linear",0.45)
end

button.MouseButton1Down:Connect(click);

end;

-- << Text API >> --

function materializet(textbox, color, revertedtext)

local parent = textbox;
local underlinecolor = color or parent.TextColor3;
local ptext = revertedtext or parent.Text
parent.Visible = true;
parent.Active = true;
parent.Selectable = true
function CreateInstance(cls,props) inst = Instance.new(cls) for i,v in pairs(props) do inst[i] = v end return inst end
local Underline = CreateInstance("Frame", {Name="Underline",ZIndex=parent.ZIndex, Parent=parent,BackgroundColor3=underlinecolor, BorderSizePixel=0,Position=UDim2.new(0,0,1,0),Size=UDim2.new(0, 0, 0, 2)})
local UnderlineBase = CreateInstance("Frame", {Name="Underline",ZIndex=parent.ZIndex,Parent= parent,BackgroundColor3=underlinecolor,BackgroundTransparency=0.85,BorderSizePixel=0,Position=UDim2.new(0,0,1,0),Size=UDim2.new(1, 0, 0, 1)})

local xsize = UnderlineBase.AbsoluteSize.X;

parent.Focused:connect(function()
if Underline.Size.X.Scale == 1 then return end
parent.PlaceholderText= ""
local x = (mouse.X) - (parent.AbsolutePosition.X);Underline.BackgroundTransparency = 0;Underline.Position = UDim2.new(0,x,1,0);wait()
Underline:TweenSizeAndPosition(UDim2.new(1, 0, 0, 2),UDim2.new(0, 0, 1, 0),"Out","Quint",0.2)
end)
parent.FocusLost:connect(function()
if parent.Text == "" then parent.PlaceholderColor3 = parent.TextColor3 parent.PlaceholderText = ptext end
TweenService:Create(Underline,TweenInfo.new(0.15,Enum.EasingStyle.Linear, Enum.EasingDirection.Out, 0,false, 0 ),{BackgroundTransparency = 1}):Play() 
wait(0.15) Underline.Size = UDim2.new(0,0,0,2)
end)

end

-- << Blur >> --

local blurEffect = createnew('BlurEffect', {
Parent = workspace.CurrentCamera;
Size = 0;
})

local blurLevel = 0

RunService.Stepped:Connect(function()
local nm,nm2 = blurEffect.Size,workspace.CurrentCamera.FieldOfView
blurEffect.Size = nm + ((blurLevel - nm) * .1)
end)

-- << Create GUI >> --

local gui = createnew('ScreenGui', {
Parent = gethui() or CoreGui; --services.plrgui;
ClipToDeviceSafeArea = false;
DisplayOrder = 9e9;
Name = 'defmat3';
})
local KFen = false

-- << Material Loader >> --



-- << String Functions >> --

function remove_tags(str)
-- The m .. (str:match(m .. "%s") and "%s" or "") is the equivalent of:
--
-- if str:match(m .. "%s") then
-- return m .. "%s"
-- else
-- return m .. ""
-- end
--
-- The reason for doing this is because if it's like "something <strong> apple </strong>" I want to match --"something apple" not "something apple " (with extra spaces)

-- Taking out the <a> tag
for m in str:gmatch("<a.->") do
str = str:gsub(m .. (str:match(m .. "%s") and "%s" or ""), "")
end
-- Regular tags
for m in str:gmatch("<%w+>") do
str = str:gsub(m .. (str:match(m .. "%s") and "%s" or ""), "")
end
-- Ending tags
for m in str:gmatch("</%w+>") do
str = str:gsub(m .. (str:match(m .. "%s") and "%s" or ""), "")
end
-- Returning
return str
end
function remove_whitespace(str)
return str:match("^%s*(.-)%s*$")
-- ^%s* > Beginning spaces
-- (.-) > Capture of the shortest amt of chars
-- %s*$ > End spaces
end

-- << Transparency >> --

function getGuiRecursive(par)
local rect = {par}

local function drect(par)
for _,v in pairs(par:GetChildren()) do
if v:IsA'GuiObject' and not v.Name:sub(1, 1) == '-' then table.insert(rect, v) end
drect(v)
end
end

drect(par)

return rect
end

function makePsuedoBorder(g,length)
local top = createnew('Frame',{
ZIndex = g.ZIndex;
Size = UDim2.new(1,length,0,length);
Position = UDim2.new(0,0,0,-length);
BackgroundColor3 = Color3.fromRGB(255,255,255);
BorderSizePixel = 0;
Parent = g;
})
local bottom = createnew('Frame',{
ZIndex = g.ZIndex;
Size = UDim2.new(1,length,0,length);
Position = UDim2.new(0,-length,1,0);
BackgroundColor3 = Color3.fromRGB(255,255,255);
BorderSizePixel = 0;
Parent = g;
})
local left = createnew('Frame',{
ZIndex = g.ZIndex;
Size = UDim2.new(0,length,1,length);
Position = UDim2.new(0,-length,0,-length);
BackgroundColor3 = Color3.fromRGB(255,255,255);
BorderSizePixel = 0;
Parent = g;
})
local right = createnew('Frame',{
ZIndex = g.ZIndex;
Size = UDim2.new(0,length,1,length);
Position = UDim2.new(1,0,0,0);
BackgroundColor3 = Color3.fromRGB(255,255,255);
BorderSizePixel = 0;
Parent = g;
})
end

function getTransparencyProperty(obj)
if obj.ClassName:sub(1, 5) == 'Image' then
return 'ImageTransparency'
elseif obj.ClassName:sub(1, 4) == 'Text' then
return 'TextTransparency'
end
return 'BackgroundTransparency'
end

function setRecursiveTransparency(of, trans)
coroutine.wrap(function()
for _,v in pairs(getGuiRecursive(of)) do
v[getTransparencyProperty(v)] = trans
end
end)
end

function tweenRecursiveTransparency(of, trans, chg)
for _,v in pairs(getGuiRecursive(of)) do
spawn(function()
local tp = getTransparencyProperty(v)
for i=v[tp], trans, chg do
v[tp] = i
RunService.Stepped:wait()
end
v[tp] = trans
end)
end
end




-- << Window functionality >> --



local tabHolder = createnew('Frame', {
Name = "KrunoxController";
Size = UDim2.new(0, 0, 0, #TABS * 35);
Position = UDim2.new(0, 10, .5, 0);
AnchorPoint = Vector2.new(0, .5);
BackgroundTransparency = 1;
Parent = gui;
})

local Window = {}

function Window.new(properties)
-- << Instance checker >> --

for i,v in next, gui:GetChildren() do 
if v.Name == properties.name then
return "Function halted"
end
end
-- applied color stuff 
-- << End of checker >> --
local newWindow = createnew('Frame', {
Size = UDim2.new(0, properties.width - 50, 0, properties.height - 50);
ZIndex = 8;
BorderSizePixel = 0;
BackgroundColor3 = Color3.fromRGB(0,0,0);
ClipsDescendants = true;
Name = properties.name;
Parent = gui;
})

local stroke = createnew('UIStroke', {
Color = Color3.fromRGB(255,255,255);
Thickness = 0;
ApplyStrokeMode = Enum.ApplyStrokeMode.Border;
Transparency = 0;
Parent = newWindow;
})

local CornerB = createnew('UICorner', {
CornerRadius = UDim.new(0,7);
Parent = newWindow;
})

newWindow.Position = (properties.position or UDim2.new(.5, -(newWindow.AbsoluteSize.X/2)+(#gui:children()-1)*30, .5, -(newWindow.AbsoluteSize.Y/2)+(#gui:children()-1)*30)) + UDim2.new(0, 25, 0, 25);
local nshad = createShadow(newWindow)
nshad.Visible = false

local top = createnew('TextButton', {
Name = "Drag";
Size = UDim2.new(1, 0, 0, 30);
Position = UDim2.new(0, 31, 0, 0);
TextXAlignment = Enum.TextXAlignment.Left;
BackgroundTransparency = 1;
BackgroundColor3 = Color3.fromRGB(0,0,0);
Font = Enum.Font.SourceSansLight;
FontSize = Enum.FontSize.Size24;
TextSize = 22;
Text = properties.name;
TextColor3 = Color3.fromRGB(229, 224, 231);
ZIndex = 8;
Parent = newWindow;
})

top.MouseEnter:Connect(function()
TweenService:Create(stroke, TweenInfo.new(0.13, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {Thickness = 1}):Play()
end)

top.MouseLeave:Connect(function()
TweenService:Create(stroke, TweenInfo.new(0.13, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {Thickness = 0}):Play()
end)

local content = createnew('Frame',{
Name = "Content";
ZIndex = 8;
Size = UDim2.new(1, 0, 0, properties.height - 30);
Position = UDim2.new(0, 0, 0, 30);
BackgroundColor3 = Color3.fromRGB(255,255,255);
BackgroundTransparency = 1;
Transparency = 1;
Parent = newWindow;
ClipsDescendants = true;
})



top.Changed:connect(function(ch)
if ch == 'Position' then
newWindow.Position = newWindow.Position + top.Position - UDim2.new(0, 31, 0, 0) 
top.Position = UDim2.new(0, 31, 0, 0)
end
end)

local icon = createIcon(properties.icon, {
Name = "Icon";
Size = UDim2.new(0, 24, 0, 24);
Position = UDim2.new(0, 3, 0, 3);
ZIndex = 8;
Parent = newWindow;
})
local close = createIcon('http://www.roblox.com/asset/?id=708205809', {
Name = "Close";
Size = UDim2.new(0, 24, 0, 24);
Position = UDim2.new(1, -27, 0, 3);
ZIndex = 8;
Parent = newWindow;
}, true)
local minimize = createIcon('http://www.roblox.com/asset/?id=708205677', {
Name = "Minimize";
Size = UDim2.new(0, 20, 0, 20);
Position = UDim2.new(1, -50, 0, 5);
ZIndex = 8;
Parent = newWindow;
}, true)

local minimized = false


close.MouseButton1Up:connect(function()
--[[
if properties.closed then
properties.closed(newWindow)
end
]]

newWindow.Visible = false

end)

local CMDBARAK = Instance.new("ImageButton")
CMDBARAK.Name = "CMDBARAK"
CMDBARAK.Parent = gui
CMDBARAK.BackgroundColor3 = Color3.fromRGB(0,0,0)
CMDBARAK.BackgroundTransparency = 0
CMDBARAK.BorderColor3 = Color3.fromRGB(0, 0, 0)
CMDBARAK.BorderSizePixel = 0
CMDBARAK.AnchorPoint = Vector2.new(0,1)
CMDBARAK.Position = UDim2.new(0,0,1,-10)
CMDBARAK.Size = UDim2.new(0, 32, 0, 32)
CMDBARAK.Image = "rbxassetid://71337512335488"

CMDBARAK.MouseButton1Click:Connect(function()
newWindow.Visible = true
end)

local Newlol = createnew('UICorner', {
CornerRadius = UDim.new(0,10);
Parent = CMDBARAK;
})

minimize.MouseButton1Up:connect(function()
if minimized == false then
newWindow:TweenSize(UDim2.new(0, newWindow.AbsoluteSize.X, 0, 30), "Out", "Quart", .3, true)
minimized = true
else
minimized = false
newWindow:TweenSize(UDim2.new(0, newWindow.AbsoluteSize.X, 0, properties.height), "Out", "Quart", .3, true)
end
end)


--[[ Gui Snapping ]]--

setRecursiveTransparency(newWindow, 1)
newWindow:TweenSizeAndPosition(UDim2.new(0, properties.width, 0, properties.height), (properties.position or UDim2.new(.5, -(newWindow.AbsoluteSize.X/2)+(#gui:children()-1)*30, .5, -(newWindow.AbsoluteSize.Y/2)+(#gui:children()-1)*30)), 'Out', 'Quart', .3, true)

local gui = top
gui.Draggable = true

tweenRecursiveTransparency(newWindow, 0, -.15)
coroutine.wrap(function()
nshad.Visible = true
wait(.5)
nshad:Destroy()
end)()
return newWindow
end

-- << Main framework >> --

local atbts = {}

for i,v in pairs(TABS) do
local nbt = createnew('TextButton', {
Name = v.Name;
Size = UDim2.new(0, 150, 0, 30);
Position = UDim2.new(0, -165, 0, (i - 1) * 35);
BorderSizePixel = 0;
ZIndex = 8;
BackgroundColor3 = Color3.fromRGB(0,0,0);
Parent = tabHolder;
Visible = false;
Text = "";
TextColor3 = Color3.fromRGB(255,255,255)
})

nbt.InputBegan:Connect(function(Input)
if Input.UserInputType == Enum.UserInputType.MouseMovement and KFen then
nbt:TweenPosition(UDim2.new(0, 10, 0, (i - 1) * 35), 'Out', 'Quart', .2, true)
end
end)
nbt.InputEnded:Connect(function(Input)
if Input.UserInputType == Enum.UserInputType.MouseMovement and KFen then
nbt:TweenPosition(UDim2.new(0, 0, 0, (i - 1) * 35), 'Out', 'Quart', .2, true)
end
end)

nbt.MouseEnter:connect(function()nbt:TweenPosition(UDim2.new(0, 10, 0, (i - 1) * 35), 'Out', 'Quart', .2, true)
local hapticService = game:GetService("HapticService") 

function hapticFeedbackMobile(vibrationMotor, vibrationLength, vibrationValues)
    if hapticService:IsMotorSupported(Enum.UserInputType.Gamepad1, vibrationMotor) then
        hapticService:SetMotor(Enum.UserInputType.Gamepad1, vibrationMotor, vibrationValues)
        wait(vibrationLength)
        hapticService:SetMotor(Enum.UserInputType.Gamepad1, vibrationMotor, 0)
    end
end

--Enable vibration on motor Large for 2 seconds at intensity 1
hapticFeedbackMobile(Enum.VibrationMotor.Large, 0.1, 1)

end)
nbt.MouseLeave:connect(function()nbt:TweenPosition(UDim2.new(0, 0, 0, (i - 1) * 35), 'Out', 'Quart', .2, true)end)

table.insert(atbts, nbt)

local icon = createIcon(v.Icon, {
Size = UDim2.new(0, 24, 0, 24);
Position = UDim2.new(0, 3, 0, 3);
ZIndex = 8;
Parent = nbt;
})

local ntx = createnew('TextLabel', {
BackgroundTransparency = 1;
Size = UDim2.new(1, 0, 1, 0);
Position = UDim2.new(0, 31, 0, 0);
TextXAlignment = Enum.TextXAlignment.Left;
Font = Enum.Font.SourceSansLight;
FontSize = Enum.FontSize.Size24;
TextSize = 22;
ZIndex = 8;
TextColor3 = Color3.fromRGB(255,255,255);
Text = v.Name;
Parent = nbt;
})

materializebutton(nbt)
createSmallShadow(nbt)
end

-- << Notify >> --

local MsgContainer = createnew('Frame',{Style=Enum.FrameStyle.Custom,Active=false,AnchorPoint=Vector2.new(0, 0),BackgroundColor3=Color3.fromRGB(255,255,255),BackgroundTransparency=1,BorderColor3=Color3.fromRGB(0.105882, 0.164706, 0.207843),BorderSizePixel=1,ClipsDescendants=false,Draggable=false,Position=UDim2.new(0.949999988, -420, 0, 0),Rotation=0,Selectable=false,Size=UDim2.new(0.0500000007, 420, 1, -20),SizeConstraint=Enum.SizeConstraint.RelativeXY,Visible=true,ZIndex=1,Name = 'Container',Parent = gui})
createnew('UIListLayout', {Padding = UDim.new(0, 15), FillDirection = Enum.FillDirection.Vertical, HorizontalAlignment = Enum.HorizontalAlignment.Center, SortOrder = Enum.SortOrder.LayoutOrder, VerticalAlignment = Enum.VerticalAlignment.Bottom, Name = 'UIListLayout', Parent = MsgContainer })

function Notify(icon,title,subtitle,time)
spawn(function()
local parent = MsgContainer
local closeactivate = false
local Noti = createnew('Frame',{Style=Enum.FrameStyle.Custom,LayoutOrder=1,Active=false,AnchorPoint=Vector2.new(0, 0),BackgroundColor3=Color3.fromRGB(42, 41, 47),BackgroundTransparency=1,BorderColor3=Color3.fromRGB(0.105882, 0.164706, 0.207843),BorderSizePixel=0,ClipsDescendants=false,Draggable=false,Position=UDim2.new(0, 0, 0, 0),Rotation=0,Selectable=false,Size=UDim2.new(0, 390, 0, 0),SizeConstraint=Enum.SizeConstraint.RelativeXY,Visible=true,ZIndex=60,Name = 'Noti',Parent = parent})
local Shadow = createnew('ImageLabel',{Image='rbxassetid://186491278',ImageColor3=Color3.fromRGB(255,255,255),ImageRectOffset=Vector2.new(0, 0),ImageRectSize=Vector2.new(0, 0),ImageTransparency=1,ScaleType=Enum.ScaleType.Slice,SliceCenter=Rect.new(50, 50, 50, 50),Active=false,AnchorPoint=Vector2.new(0.5, 0.479999989),BackgroundColor3=Color3.fromRGB(255,255,255),BackgroundTransparency=1,BorderColor3=Color3.fromRGB(0.105882, 0.164706, 0.207843),BorderSizePixel=1,ClipsDescendants=false,Draggable=false,Position=UDim2.new(0, 195, 0, 49),Rotation=0,Selectable=false,Size=UDim2.new(1, 31, 1, 32),SizeConstraint=Enum.SizeConstraint.RelativeXY,Visible=true,ZIndex=59,Name='Shadow',Parent = Noti})
local Close = createnew('ImageButton',{Image='rbxassetid://708205809',ImageColor3=Color3.fromRGB(229, 224, 232),ImageRectOffset=Vector2.new(0, 0),ImageRectSize=Vector2.new(0, 0),ImageTransparency=0,ScaleType=Enum.ScaleType.Stretch,SliceCenter=Rect.new(0, 0, 0, 0),AutoButtonColor=true,Modal=false,Selected=false,Style=Enum.ButtonStyle.Custom,Active=true,AnchorPoint=Vector2.new(0, 0),BackgroundColor3=Color3.fromRGB(255,255,255),BackgroundTransparency=1,BorderColor3=Color3.fromRGB(0.105882, 0.164706, 0.207843),BorderSizePixel=1,ClipsDescendants=false,Draggable=false,Position=UDim2.new(1, -30, 0, 13),Rotation=0,Selectable=true,Size=UDim2.new(0, 15, 0, 15),SizeConstraint=Enum.SizeConstraint.RelativeXY,Visible=true,ZIndex=63,Name='Close',Parent = Noti})
local Icon = createnew('ImageLabel',{Image=icon[1],ImageRectOffset=Vector2.new(0, 0),ImageRectSize=Vector2.new(0, 0),ImageTransparency=1,ScaleType=Enum.ScaleType.Stretch,SliceCenter=Rect.new(0, 0, 0, 0),Active=false,AnchorPoint=Vector2.new(0, 0),BackgroundColor3=Color3.fromRGB(255,255,255),BackgroundTransparency=1,BorderColor3=Color3.fromRGB(0.105882, 0.164706, 0.207843),BorderSizePixel=1,ClipsDescendants=false,Draggable=false,Position=UDim2.new(0, 18, 0, 14),Rotation=0,Selectable=false,Size=UDim2.new(0, 73, 0, 73),SizeConstraint=Enum.SizeConstraint.RelativeXY,Visible=true,ZIndex=61,Name='Icon',Parent = Noti})
local Subtitle = createnew('TextLabel',{Font=Enum.Font.SourceSans,FontSize=Enum.FontSize.Size24,Text=subtitle,TextColor3=Color3.fromRGB(185, 179, 191),TextScaled=true,TextSize=19,TextStrokeColor3=Color3.fromRGB(0, 0, 0),TextStrokeTransparency=1,TextTransparency=1,TextWrapped=true,TextXAlignment=Enum.TextXAlignment.Left,TextYAlignment=Enum.TextYAlignment.Top,Active=false,AnchorPoint=Vector2.new(0, 0),BackgroundColor3=Color3.fromRGB(255,255,255),BackgroundTransparency=1,BorderColor3=Color3.fromRGB(0.105882, 0.164706, 0.207843),BorderSizePixel=1,ClipsDescendants=false,Draggable=false,Position=UDim2.new(0, 105, 0, 45),Rotation=0,Selectable=false,Size=UDim2.new(0, 270, 0, 17),SizeConstraint=Enum.SizeConstraint.RelativeXY,Visible=true,ZIndex=62,Name='Subtitle',Parent = Noti})
local Title = createnew('TextLabel',{Font=Enum.Font.SourceSansSemibold,FontSize=Enum.FontSize.Size24,Text=title,TextColor3=Color3.fromRGB(229, 224, 232),TextScaled=true,TextSize=21,TextStrokeColor3=Color3.fromRGB(0, 0, 0),TextStrokeTransparency=1,TextTransparency=1,TextWrapped=true,TextXAlignment=Enum.TextXAlignment.Left,TextYAlignment=Enum.TextYAlignment.Bottom,Active=false,AnchorPoint=Vector2.new(0, 0),BackgroundColor3=Color3.fromRGB(255,255,255),BackgroundTransparency=1,BorderColor3=Color3.fromRGB(0.105882, 0.164706, 0.207843),BorderSizePixel=1,ClipsDescendants=false,Draggable=false,Position=UDim2.new(0, 105, 0, 10),Rotation=0,Selectable=false,Size=UDim2.new(0, 200, 0, 27),SizeConstraint=Enum.SizeConstraint.RelativeXY,Visible=true,ZIndex=62,Name='Title',Parent = Noti})
if icon[2] ~= nil then
Icon.ImageColor3 = icon[2]
end
for i,v in next, parent:GetChildren() do
if v:IsA("GuiObject") and (not Noti) then
v.LayoutOrder = v.LayoutOrder + 1;
end;
end;
if not IsOnMobile then
Noti.InputBegan:Connect(function(Input)
if closeactivate and Input.UserInputType == Enum.UserInputType.MouseMovement then
TweenService:Create(Close, TweenInfo.new(.1,Enum.EasingStyle.Linear,Enum.EasingDirection.Out,0,false,0), {ImageTransparency = 0}):Play()
end
end)
Noti.InputEnded:Connect(function(Input)
if Input.UserInputType == Enum.UserInputType.MouseMovement then
TweenService:Create(Close, TweenInfo.new(.1,Enum.EasingStyle.Linear,Enum.EasingDirection.Out,0,false,0), {ImageTransparency = 1}):Play()
end
end)
end
Close.MouseButton1Click:Connect(function()
if closeactivate then
closeactivate = false
Noti:TweenSize(UDim2.new(0,390,0,0), "Out", "Quart", .7, true);
TweenService:Create(Close, TweenInfo.new(.01,Enum.EasingStyle.Linear,Enum.EasingDirection.Out,0,false,0), {ImageTransparency = 1}):Play() 
TweenService:Create(Shadow, TweenInfo.new(.05,Enum.EasingStyle.Linear,Enum.EasingDirection.Out,0,false,0), {ImageTransparency = 1}):Play()
TweenService:Create(Subtitle, TweenInfo.new(.05,Enum.EasingStyle.Linear,Enum.EasingDirection.Out,0,false,0), {TextTransparency = 1}):Play()
TweenService:Create(Title, TweenInfo.new(.05,Enum.EasingStyle.Linear,Enum.EasingDirection.Out,0,false,0), {TextTransparency = 1}):Play()
TweenService:Create(Icon, TweenInfo.new(.05,Enum.EasingStyle.Linear,Enum.EasingDirection.Out,0,false,0), {ImageTransparency = 1}):Play()
end
end)
Noti:GetPropertyChangedSignal("Size"):Connect(function()
Shadow.Position = UDim2.new(0, Noti.Size.X.Offset/2, 0, Noti.Size.Y.Offset/2.05);
end);
local textsize = cloneref(game:GetService("TextService")):GetTextSize(subtitle, 19, Enum.Font.SourceSans, Vector2.new(270,2147483583)).Y;
local mainsize = math.max(100, textsize + 63)
Subtitle.Size = UDim2.new(0,270,0,textsize);
Noti:TweenSize(UDim2.new(0,390,0,mainsize), "Out", "Quart", .7, true);
wait(.6)
TweenService:Create(Noti, TweenInfo.new(.3,Enum.EasingStyle.Quart,Enum.EasingDirection.Out,0,false,0), {BackgroundTransparency = 0}):Play()
TweenService:Create(Shadow, TweenInfo.new(.3,Enum.EasingStyle.Quart,Enum.EasingDirection.Out,0,false,0), {ImageTransparency = 0}):Play()
TweenService:Create(Subtitle, TweenInfo.new(.3,Enum.EasingStyle.Quart,Enum.EasingDirection.Out,0,false,0), {TextTransparency = 0}):Play()
TweenService:Create(Title, TweenInfo.new(.3,Enum.EasingStyle.Quart,Enum.EasingDirection.Out,0,false,0), {TextTransparency = 0}):Play()
TweenService:Create(Icon, TweenInfo.new(.3,Enum.EasingStyle.Quart,Enum.EasingDirection.Out,0,false,0), {ImageTransparency = 0}):Play()
wait(.3)
closeactivate = true
if time ~= nil then
wait(time)
else
wait(4)
end
closeactivate = false
Noti:TweenSize(UDim2.new(0,390,0,0), "Out", "Quart", .7, true);

TweenService:Create(Close, TweenInfo.new(.01,Enum.EasingStyle.Linear,Enum.EasingDirection.Out,0,false,0), {ImageTransparency = 1}):Play()
TweenService:Create(Shadow, TweenInfo.new(.05,Enum.EasingStyle.Linear,Enum.EasingDirection.Out,0,false,0), {ImageTransparency = 1}):Play()
TweenService:Create(Subtitle, TweenInfo.new(.05,Enum.EasingStyle.Linear,Enum.EasingDirection.Out,0,false,0), {TextTransparency = 1}):Play()
TweenService:Create(Title, TweenInfo.new(.05,Enum.EasingStyle.Linear,Enum.EasingDirection.Out,0,false,0), {TextTransparency = 1}):Play()
TweenService:Create(Icon, TweenInfo.new(.05,Enum.EasingStyle.Linear,Enum.EasingDirection.Out,0,false,0), {ImageTransparency = 1}):Play()
wait(.3)
TweenService:Create(Noti, TweenInfo.new(.33,Enum.EasingStyle.Linear,Enum.EasingDirection.Out,0,false,0), {BackgroundTransparency = 1}):Play()
end)
end

-- << Make Things More Creative :D >> --

function toggleanim(parent,func)
local pos = UDim2.new(0,parent.Size.X.Offset/2,0,parent.Size.Y.Offset/2)
local circleanim = createnew('ImageLabel', {
Name = "Circleanim";
Size = UDim2.new(0, 0, 0, 0);
BackgroundTransparency = 1;
Image = "rbxasset://textures/whiteCircle.png";
ImageTransparency = .7;
Position = pos;
ZIndex = 8;
Rotation = 0;
Parent = parent;
})
local KFen = false
parent.MouseButton1Up:Connect(function()
if KFen then
circleanim.ImageTransparency = .7
KFen = not KFen
func(KFen)
else
circleanim.ImageTransparency = .5
KFen = not KFen
func(KFen)
end
end)
parent.InputBegan:Connect(function(Input)
if Input.UserInputType == Enum.UserInputType.MouseMovement then
circleanim:TweenSizeAndPosition(UDim2.new(1,0,1,0), UDim2.new(0,0,0,0), "Out", "Linear", .1, true);
end
end)
parent.InputEnded:Connect(function(Input)
if Input.UserInputType == Enum.UserInputType.MouseMovement and (not KFen) then
circleanim:TweenSizeAndPosition(UDim2.new(0,0,0,0), pos, "Out", "inear", .1, true);
end
end)
end

-- << Material Checkbox (oh yez) >> --

function createcheckbox(parent,oncolor,offcolor,respone_function,mode)
local selectcolor = oncolor or Color3.fromRGB(0,0,0);local notselectedcolor = offcolor or Color3.fromRGB(255,255,255)
local CheckBoxImage = createnew('ImageButton',{Image='rbxassetid://1721163816',ZIndex=65,ImageColor3=Color3.fromRGB(197, 131, 255),ImageRectOffset=Vector2.new(0, 0),ImageRectSize=Vector2.new(0, 0),ImageTransparency=0,ScaleType=Enum.ScaleType.Stretch,SliceCenter=Rect.new(0, 0, 0, 0),AutoButtonColor=true,Modal=false,Selected=false,Style=Enum.ButtonStyle.Custom,Active=true,AnchorPoint=Vector2.new(0, 0),BackgroundColor3=Color3.fromRGB(255,255,255),BackgroundTransparency=1,BorderColor3=Color3.fromRGB(0.105882, 0.164706, 0.207843),BorderSizePixel=1,ClipsDescendants=false,Draggable=false,Position=UDim2.new(0, -35, 0, 0),Rotation=0,Selectable=true,Size=UDim2.new(0, 26, 0, 26),SizeConstraint=Enum.SizeConstraint.RelativeXY,Visible=true,Name='CheckBoxImage',Parent = parent})
local BackgroundFrame = createnew('Frame',{Style=Enum.FrameStyle.Custom,ZIndex=63,Active=false,AnchorPoint=Vector2.new(0, 0),BackgroundColor3=Color3.fromRGB(197, 131, 255),BackgroundTransparency=0,BorderColor3=Color3.fromRGB(0.105882, 0.164706, 0.207843),BorderSizePixel=0,ClipsDescendants=false,Draggable=false,Position=UDim2.new(0.150000006, 0, 0.150000006, 0),Rotation=0,Selectable=false,Size=UDim2.new(0.699999988, 0, 0.699999988, 0),SizeConstraint=Enum.SizeConstraint.RelativeXY,Visible=true,Name = 'BackgroundFrame',Parent = CheckBoxImage})
local CheckFrame = createnew('Frame',{Style=Enum.FrameStyle.Custom,ZIndex=64,Active=false,AnchorPoint=Vector2.new(0, 0),BackgroundColor3=Color3.fromRGB(57, 0, 99),BackgroundTransparency=0,BorderColor3=Color3.fromRGB(0.105882, 0.164706, 0.207843),BorderSizePixel=0,ClipsDescendants=false,Draggable=false,Position=UDim2.new(0, 4, 0, 5),Rotation=0,Selectable=false,Size=UDim2.new(0, 0, 0.600000024, 0),SizeConstraint=Enum.SizeConstraint.RelativeXY,Visible=true,Name = 'CheckFrame',Parent = CheckBoxImage})
local UncheckedFrame = createnew('Frame',{Style=Enum.FrameStyle.Custom,ZIndex=65,Active=false,AnchorPoint=Vector2.new(0.5, 0.5),BackgroundColor3=Color3.fromRGB(0,0,0),BackgroundTransparency=0,BorderColor3=Color3.fromRGB(0.105882, 0.164706, 0.207843),BorderSizePixel=0,ClipsDescendants=false,Draggable=false,Position=UDim2.new(0.5, 0, 0.5, 0),Rotation=0,Selectable=false,Size=UDim2.new(0.600000024, 0, 0.600000024, 0),SizeConstraint=Enum.SizeConstraint.RelativeXY,Visible=true,Name = 'UncheckedFrame',Parent = CheckBoxImage})
local checked = false
if mode == true then
checked = true
CheckFrame.Size = UDim2.new(0.7, 0,0.6, 0)
CheckFrame.Position = UDim2.new(0, 4,0, 5)
UncheckedFrame.BackgroundTransparency = 1
end

-- << If not clicked >> --

CheckBoxImage.MouseButton1Down:Connect(function()
if checked then
CheckFrame:TweenSize(UDim2.new(0, 0,0.6, 0),"Out","Quad",0.1)
else
TweenService:Create(UncheckedFrame, TweenInfo.new(0.1), {BackgroundTransparency = 1}):Play()
end
end)
CheckBoxImage.MouseButton1Up:Connect(function()
if checked then
TweenService:Create(UncheckedFrame, TweenInfo.new(0.1), {BackgroundTransparency = 0}):Play()
checked = false
respone_function(checked)
else
CheckFrame:TweenSizeAndPosition(UDim2.new(0.7, 0,0.6, 0),UDim2.new(0, 4,0, 5),"Out","Quad",0.2)
checked = true
respone_function(checked)
end
end)

-- << When Clicked/not clicked >> --

if parent.ClassName =="TextButton" or parent.ClassName == "ImageButton" then 
parent.AutoButtonColor = false
parent.MouseButton1Up:Connect(function()
if checked then
TweenService:Create(UncheckedFrame, TweenInfo.new(0.1), {BackgroundTransparency = 0}):Play()
checked = false
respone_function(checked)
else
CheckFrame:TweenSizeAndPosition(UDim2.new(0.7, 0,0.6, 0),UDim2.new(0, 4,0, 5),"Out","Quad",0.2)
checked = true
respone_function(checked)
end
end)
parent.MouseButton1Down:Connect(function()
if checked then
CheckFrame:TweenSize(UDim2.new(0, 0,0.6, 0),"Out","Quad",0.1)
else
TweenService:Create(UncheckedFrame, TweenInfo.new(0.1), {BackgroundTransparency = 1}):Play()
end
end)
parent.InputEnded:Connect(function(Input)
if Input.UserInputType == Enum.UserInputType.MouseMovement then
if checked and CheckFrame.Size == UDim2.new(0, 0, 1, 0) then
CheckFrame:TweenSize(UDim2.new(1, 0, 1, 0),"Out","Quad",0.1)
elseif checked == false and UncheckedFrame.BackgroundTransparency > 0 then
TweenService:Create(UncheckedFrame, TweenInfo.new(0.1), {BackgroundTransparency = 0}):Play()
end
end
end)
end

CheckBoxImage.InputEnded:Connect(function(Input)
if Input.UserInputType == Enum.UserInputType.MouseMovement then
if checked and CheckFrame.Size == UDim2.new(0, 0, 1, 0) then
CheckFrame:TweenSize(UDim2.new(1, 0, 1, 0),"Out","Quad",0.1)
elseif checked == false and UncheckedFrame.BackgroundTransparency > 0 then
TweenService:Create(UncheckedFrame, TweenInfo.new(0.1), {BackgroundTransparency = 0}):Play()
end
end
end)


end

-- << Toggler >> --

haptics = true
blacktheme = true

function uiclick()
if haptics then
pcall(function()
local Workspace = game:GetService("Workspace")

local effect = Instance.new("HapticEffect")
effect.Type = Enum.HapticEffectType.UIClick
effect.Looped = false
effect.Parent = Workspace

-- Start the haptic effect
effect:Play()
end)
end
end

function uiclicks()
if haptics then
pcall(function()
local Workspace = game:GetService("Workspace")

local effect = Instance.new("HapticEffect")
effect.Type = Enum.HapticEffectType.UIHover
effect.Looped = false
effect.Parent = Workspace

-- Start the haptic effect
effect:Play()
end)
end
end

function Ripple(btn,color)

	local function Tween(Obj,Goal)
		TweenService:Create(Obj,TweenInfo.new(0.3),Goal):Play()
	end
local function click()
gui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling -- Set ZIndexBehavior to Sibling
	local ASX,ASY = btn.AbsoluteSize.X, btn.AbsoluteSize.Y
	local APX,APY = btn.AbsolutePosition.X, btn.AbsolutePosition.Y
	local MX,MY = KMouse.X,KMouse.Y
	local Pos = UDim2.new(0,MX-APX,0,MY-APY)
	local UBC3 = btn.BackgroundColor3
	local UR,UG,UB = UBC3.R, UBC3.G, UBC3.B
	
	local UI = Instance.new("Frame",btn)
	UI.BackgroundColor3 = color
	UI.Name = "Ripple"
	UI.ZIndex = 100001

	local Corner = Instance.new("UICorner",UI)
	Corner.CornerRadius = UDim.new(1,0)
	
	UI.AnchorPoint = Vector2.new(0.5,0.5)
	UI.Position = Pos

	local MS = UDim2.fromOffset(math.max(ASX,ASY),math.max(ASX,ASY))

	UI:TweenSize(MS,"Out","Sine",0.3)
	Tween(UI,{BackgroundTransparency = 1})

	wait(0.3)
	UI:Destroy()
	gui.ZIndexBehavior = Enum.ZIndexBehavior.Global
	end
	
btn.MouseButton1Down:Connect(click)
end

function fakeripple(btn,color)

	local function Tween(Obj,Goal)
		TweenService:Create(Obj,TweenInfo.new(0.3),Goal):Play()
	end
local function click()
gui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling -- Set ZIndexBehavior to Sibling
	local ASX,ASY = 55.2, 20
	local APX,APY = btn.AbsolutePosition.X, btn.AbsolutePosition.Y
	local MX,MY = KMouse.X,KMouse.Y
	local Pos = UDim2.new(0,MX-APX,0,MY-APY)
	local UBC3 = btn.BackgroundColor3
	local UR,UG,UB = UBC3.R, UBC3.G, UBC3.B
	
	local UI = Instance.new("Frame",btn)
	UI.BackgroundColor3 = color
	UI.Name = "Ripple"
	UI.ZIndex = 100001

	local Corner = Instance.new("UICorner",UI)
	Corner.CornerRadius = UDim.new(1,0)
	
	UI.AnchorPoint = Vector2.new(0.5,0.5)
	UI.Position = Pos

	local MS = UDim2.fromOffset(math.max(ASX,ASY),math.max(ASX,ASY))

	UI:TweenSize(MS,"Out","Sine",0.3)
	Tween(UI,{BackgroundTransparency = 1})

	wait(0.3)
	UI:Destroy()
	gui.ZIndexBehavior = Enum.ZIndexBehavior.Global
	end
	
btn.MouseButton1Down:Connect(click)
end

newpos = 0

function NewBtn(par,text,icon,func)
local example = createnew('TextButton',{
ZIndex = 8;
Text = text;
Font = Enum.Font.SourceSans;
TextScaled = true;
BackgroundColor3 = Color3.fromRGB(197, 131, 255);
BackgroundTransparency = 0;
TextColor3 = Color3.fromRGB(57, 0, 99);
Size = UDim2.new(.95,0,0,24);
Position = UDim2.new(0.025,0,0,tonumber(newpos));
ClipsDescendants = true;
AutoButtonColor = false;
Parent = par;
})

local CornerB = createnew('UICorner', {
CornerRadius = UDim.new(0,20);
Parent = example;
})

example.MouseEnter:Connect(function()
TweenService:Create(CornerB, TweenInfo.new(0.18, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {CornerRadius = UDim.new(0,5)}):Play()
end)

example.MouseLeave:Connect(function()
TweenService:Create(CornerB, TweenInfo.new(0.28, Enum.EasingStyle.Quad, Enum.EasingDirection.In), {CornerRadius = UDim.new(0,20)}):Play()
end)

example.MouseButton1Click:Connect(function()
uiclicks()

local success, err = pcall(function()
coroutine.wrap(function()
func()
end)()
end)
end)

local icon = createIcon(icon, {
Size = UDim2.new(0, 0, 1, 0);
ImageColor3 = Color3.fromRGB(0,0,0);
ZIndex = 8;
Parent = example;
})
icon.Size = UDim2.new(0,icon.AbsoluteSize.Y,0,icon.AbsoluteSize.Y)
Ripple(example,Color3.fromRGB(50,50,50))
newpos = newpos + 30
end

function newcheck(value,par,text,func)
Keep = value
local ex = CreateInstance('TextButton',{Font=Enum.Font.SourceSansLight,FontSize=Enum.FontSize.Size24,Text="",TextColor3=Color3.fromRGB(229, 224, 231),TextScaled=false,TextSize=22,TextStrokeColor3=Color3.fromRGB(0, 0, 0),TextStrokeTransparency=1,TextTransparency=0,TextWrapped=true,TextYAlignment=Enum.TextYAlignment.Center,AutoButtonColor=true,Modal=false,Selected=false,Style=Enum.ButtonStyle.Custom,Active=true,AnchorPoint=Vector2.new(0, 0),BackgroundColor3=Color3.fromRGB(255,255,255),BackgroundTransparency=1,BorderColor3=Color3.fromRGB(0.105882, 0.164706, 0.207843),BorderSizePixel=0,ClipsDescendants=false,Draggable=false,Position=UDim2.new(0.095, 0, 0, tonumber(newpos)-1),Rotation=0,Selectable=true,Size=UDim2.new(0, 200, 0, 26),SizeConstraint=Enum.SizeConstraint.RelativeXY,Visible=true,ZIndex=8,Name='Keepcmdbar',Parent = par})
local example = createnew('TextButton',{
ZIndex = 8;
Text = text;
Font = Enum.Font.SourceSans;
TextScaled = true;
BackgroundColor3 = Color3.fromRGB(1,1,1);
BackgroundTransparency = 1;
TextColor3 = Color3.fromRGB(229, 224, 231);
Size = UDim2.new(.95,0,0,24);
Position = UDim2.new(0.025,0,0,tonumber(newpos));
ClipsDescendants = true;
AutoButtonColor = false;
Parent = par;
})

Ripple(example,Color3.fromRGB(210,210,210))

createcheckbox(ex, Color3.fromRGB(208, 188, 255), Color3.fromRGB(54, 30, 113), function(arg)
local success, err = pcall(function()
coroutine.wrap(function()
func()
end)()
end)
end,Keep)
newpos = newpos + 30
end

function inputbox(parent,text)
local example = createnew('TextBox',{ClearTextOnFocus=true,Font=Enum.Font.SourceSans,FontSize=Enum.FontSize.Size24,MultiLine=false,Text='',TextColor3=Color3.fromRGB(229, 224, 231), PlaceholderText='', PlaceholderColor3=Color3.fromRGB(0.7, 0.7, 0.7),TextScaled=false,TextSize=22,TextStrokeColor3=Color3.fromRGB(0, 0, 0),TextStrokeTransparency=1,TextTransparency=0,TextWrapped=true,TextXAlignment=Enum.TextXAlignment.Center,TextYAlignment=Enum.TextYAlignment.Bottom,Active=true,AnchorPoint=Vector2.new(0, 0),BackgroundColor3=Color3.fromRGB(255,255,255),BackgroundTransparency=1,BorderColor3=Color3.fromRGB(0.105882, 0.164706, 0.207843),BorderSizePixel=1,ClipsDescendants=false,Draggable=false,Position=UDim2.new(0.025, 0, 0, tonumber(newpos)),Rotation=0,Selectable=true,Size=UDim2.new(0.95, 0,0.0016, 0),SizeConstraint=Enum.SizeConstraint.RelativeXY,Visible=true,ZIndex=9,Name='Searchs',Parent = parent})

local ex = createnew('TextButton',{
ZIndex = 8;
Text = "";
Font = Enum.Font.SourceSansLight;
TextScaled = true;
BackgroundColor3 = Color3.new(1,1,1);
BackgroundTransparency = 1;
TextColor3 = Color3.new(0,0,0);
Size = UDim2.new(.95,0,0,24);
Position = UDim2.new(0.025,0,0,tonumber(newpos));
ClipsDescendants = true;
AutoButtonColor = false;
Parent = parent;
})

local CornerB = createnew('UICorner', {
CornerRadius = UDim.new(0,3);
Parent = ex;
})

local stroke = createnew('UIStroke', {
Color = Color3.fromRGB(108, 105, 114);
Thickness = 0.98;
ApplyStrokeMode = Enum.ApplyStrokeMode.Border;
Transparency = 0;
Parent = ex;
})

local text = createnew('TextButton',{
ZIndex = 8;
Text = text;
Font = Enum.Font.SourceSans;
TextScaled = false;
TextSize = 17;
TextXAlignment = Enum.TextXAlignment.Left;
BackgroundColor3 = Color3.fromRGB(0,0,0);
BackgroundTransparency = 0;
TextColor3 = Color3.fromRGB(229, 224, 231);
Size = UDim2.new(0.2,0,0,3);
BorderSizePixel = 0;
Position = UDim2.new(0.05,0,0,tonumber(newpos)+9);
ClipsDescendants = false;
AutoButtonColor = false;
Parent = parent;
})

local savedpos = newpos

example.Focused:Connect(function()
TweenService:Create(stroke, TweenInfo.new(0.13, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {Color = Color3.fromRGB(209,188,255)}):Play()
TweenService:Create(stroke, TweenInfo.new(0.13, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {Thickness = 1.6}):Play()
TweenService:Create(text, TweenInfo.new(0.13, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {TextColor3 = Color3.fromRGB(209,188,255)}):Play()
text.TextXAlignment = Enum.TextXAlignment.Center
local TweenToSize = UDim2.new(0.2, 0, 0, 3)
local TweenToPosition = UDim2.new(0.1, 0, 0, tonumber(savedpos)-2)
text:TweenSizeAndPosition(TweenToSize, TweenToPosition, Enum.EasingDirection.Out, Enum.EasingStyle.Quart, 0.1)
end)

example.FocusLost:Connect(function(yea)
TweenService:Create(stroke, TweenInfo.new(0.13, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {Color = Color3.fromRGB(108,105,114)}):Play()
TweenService:Create(stroke, TweenInfo.new(0.13, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {Thickness = 0.97}):Play()
TweenService:Create(text, TweenInfo.new(0.13, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {TextColor3 = Color3.fromRGB(229,224,231)}):Play()
if example.Text == '' then
text.TextXAlignment = Enum.TextXAlignment.Left
local TweenToSize = UDim2.new(0.2,0,0,3)
local TweenToPosition = UDim2.new(0.05,0,0,tonumber(savedpos)+9)
text:TweenSizeAndPosition(TweenToSize, TweenToPosition, Enum.EasingDirection.Out, Enum.EasingStyle.Quart, 0.1)
end
end)

newpos = newpos + 30

return example
end

function TextLine(par,text)
local example = createnew('TextButton',{
ZIndex = 8;
Text = text;
Font = Enum.Font.SourceSansLight;
TextScaled = true;
BackgroundColor3 = Color3.new(1,1,1);
BackgroundTransparency = 1;
TextColor3 = Color3.new(1,1,1);
Size = UDim2.new(.95,0,0,24);
Position = UDim2.new(0.025,0,0,tonumber(newpos));
ClipsDescendants = true;
AutoButtonColor = false;
Parent = par;
})
newpos = newpos + 30
end

local windo = Window.new({width = 500, height = 310, name='Material 3 Hub', icon='rbxassetid://100143457304111'})
local scrlframe = createnew('ScrollingFrame',{BottomImage='rbxasset://textures/ui/Scroll/scroll-middle.png', ScrollBarImageTransparency=0.7,CanvasPosition=Vector2.new(6, 0),CanvasSize=UDim2.new(0, 0, 5, 0),MidImage='rbxasset://textures/ui/Scroll/scroll-middle.png',ScrollBarThickness=6,ScrollingEnabled=true,TopImage='rbxasset://textures/ui/Scroll/scroll-middle.png',Active=false,AnchorPoint=Vector2.new(0, 0),BackgroundColor3=Color3.fromRGB(255,255,255),BackgroundTransparency=1,BorderColor3=Color3.fromRGB(0.105882, 0.164706, 0.207843),BorderSizePixel=0,ClipsDescendants=true,Draggable=false,Position=UDim2.new(0.099, 0, 0, 5),Rotation=0,Selectable=true,Size=UDim2.new(0.92, 0, 0, 600),SizeConstraint=Enum.SizeConstraint.RelativeXY,Visible=true,ZIndex=8,Name='Tools',Parent = windo.Content})
local windoww = scrlframe

local navrail = createnew('Frame',{
ZIndex = 8;
BackgroundColor3 = Color3.fromRGB(0,0,0);
BackgroundTransparency = 0;
Size = UDim2.new(0.1,0,1,0);
Position = UDim2.new(0,0,0,0);
BorderSizePixel = 0;
Name = "navrail";
Parent = windo.Content;
})

local navcorner = createnew('UICorner', {
CornerRadius = UDim.new(0,7);
Parent = navrail;
})

navpos = 0

--tlbr start

local toolbarmenu = createnew('Frame',{
ZIndex = 8;
BackgroundColor3 = Color3.fromRGB(0,0,0);
BackgroundTransparency = 0;
Size = UDim2.new(0,80,0,40);
Position = UDim2.new(0.5, 0, 0.5, 100);
BorderSizePixel = 0;
Name = "toolbar";
AnchorPoint = Vector2.new(0.5, 0.5);
Parent = windo.Content;
})

local tcorner = createnew('UICorner', {
CornerRadius = UDim.new(0,20);
Parent = toolbarmenu;
})

local uistrokefortlbr = createnew('UIStroke', {
Color = Color3.fromRGB(255,255,255);
Thickness = 0.98;
ApplyStrokeMode = Enum.ApplyStrokeMode.Border;
Transparency = 0;
Parent = toolbarmenu;
})

tlbrsize = 38
tlbrbtn = 4

function tlbr(icon,icontwo,func)
local latestframe = createnew('ScrollingFrame',{BottomImage='rbxasset://textures/ui/Scroll/scroll-middle.png', ScrollBarImageTransparency=0.7,CanvasPosition=Vector2.new(6, 0),CanvasSize=UDim2.new(0, 0, 5, 0),MidImage='rbxasset://textures/ui/Scroll/scroll-middle.png',ScrollBarThickness=6,ScrollingEnabled=true,TopImage='rbxasset://textures/ui/Scroll/scroll-middle.png',Active=false,AnchorPoint=Vector2.new(0, 0),BackgroundColor3=Color3.fromRGB(255,255,255),BackgroundTransparency=1,BorderColor3=Color3.fromRGB(0.105882, 0.164706, 0.207843),BorderSizePixel=0,ClipsDescendants=true,Draggable=false,Position=UDim2.new(0,0,0,0),Rotation=0,Selectable=true,Size=UDim2.new(1,0,10,0),SizeConstraint=Enum.SizeConstraint.RelativeXY,Visible=false,ZIndex=8,Name="newframe",Parent = windoww})

toolbarmenu.Size = UDim2.new(0,tonumber(tlbrsize),0,40)
tlbrsize = tlbrsize + 38

local fakewhite = createnew('TextButton',{
ZIndex = 8;
Text = "";
Name = "fakewhite";
Font = Enum.Font.SourceSansLight;
BackgroundColor3 = Color3.new(1,1,1);
BackgroundTransparency = 1;
TextColor3 = Color3.fromRGB(229, 224, 231);
Size = UDim2.new(0,32,0,32);
Position = UDim2.new(0,tonumber(tlbrbtn),0,4);
ClipsDescendants = true;
AutoButtonColor = false;
TextSize = 14;
Parent = toolbarmenu;
})

local fakecorner = createnew('UICorner', {
CornerRadius = UDim.new(0,20);
Parent = fakewhite;
})

local filled = createnew('TextButton',{
ZIndex = 8;
Text = "";
Name = "filled";
Font = Enum.Font.SourceSansLight;
BackgroundColor3 = Color3.new(1,1,1);
BackgroundTransparency = 1;
TextColor3 = Color3.fromRGB(229, 224, 231);
Size = UDim2.new(0,32,0,32);
Position = UDim2.new(0,tonumber(tlbrbtn),0,4);
ClipsDescendants = true;
AutoButtonColor = false;
TextSize = 14;
Visible = false;
Parent = toolbarmenu;
})

local demofill = createIcon(icontwo, {
Size = UDim2.new(0,22,0,22);
ImageColor3 = Color3.fromRGB(240,240,240);
ZIndex = 8;
Name = "nunya";
AnchorPoint = Vector2.new(0.5, 0.5);
Position = UDim2.new(0.5, 0, 0.5, 0);
Parent = filled;
Visible = true;
})
filled.Size = UDim2.new(0,filled.AbsoluteSize.Y,0,filled.AbsoluteSize.Y)

local unfilled = createnew('TextButton',{
ZIndex = 8;
Text = "";
Name = "unfilled";
Font = Enum.Font.SourceSansLight;
BackgroundColor3 = Color3.new(1,1,1);
BackgroundTransparency = 1;
TextColor3 = Color3.fromRGB(229, 224, 231);
Size = UDim2.new(0,32,0,32);
Position = UDim2.new(0,tonumber(tlbrbtn),0,4);
ClipsDescendants = true;
AutoButtonColor = false;
TextSize = 14;
Parent = toolbarmenu;
})

local demounfill = createIcon(icon, {
Size = UDim2.new(0,22,0,22);
ImageColor3 = Color3.fromRGB(240,240,240);
ZIndex = 8;
Name = "nunya";
AnchorPoint = Vector2.new(0.5, 0.5);
Position = UDim2.new(0.5, 0, 0.5, 0);
Parent = unfilled;
})
unfilled.Size = UDim2.new(0,unfilled.AbsoluteSize.Y,0,unfilled.AbsoluteSize.Y)

local group = createnew('CanvasGroup',{
ZIndex = 8;
BackgroundColor3 = Color3.new(1,0,1);
BackgroundTransparency = 1;
Size = UDim2.new(0,32,0,32);
Position = UDim2.new(0,tonumber(tlbrbtn),0,4);
Parent = toolbarmenu;
})

local fakecorner = createnew('UICorner', {
CornerRadius = UDim.new(0,20);
Parent = group;
})

local faketwo = createnew('TextButton',{
ZIndex = 8;
Text = "";
Name = "faketwo";
Font = Enum.Font.SourceSansLight;
BackgroundColor3 = Color3.new(1,1,1);
BackgroundTransparency = 1;
TextColor3 = Color3.fromRGB(229, 224, 231);
Size = UDim2.new(1,0,1,0);
Position = UDim2.new(0,0,0,0);
ClipsDescendants = true;
AutoButtonColor = false;
TextSize = 14;
Parent = group;
})

fakeripple(faketwo,Color3.fromRGB(229,224,231))

faketwo.MouseButton1Click:Connect(function()
for i,v in pairs(gui["Material 3 Hub"].Content.toolbar:GetDescendants()) do
if v.Name == "filled" then
v.Visible = false
end
end

for i,v in pairs(gui["Material 3 Hub"].Content.toolbar:GetDescendants()) do
if v.Name == "unfilled" then
v.Visible = true
end
end

for i,v in pairs(gui["Material 3 Hub"].Content.Tools:GetDescendants()) do
if v.Name == "newframe" then
v.Visible = false
end
end

uiclick()

latestframe.Visible = true

unfilled.Visible = false
filled.Visible = true

for i,v in pairs(gui["Material 3 Hub"].Content.toolbar:GetDescendants()) do
if v.Name == "fakewhite" then
TweenService:Create(v, TweenInfo.new(0.1, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {BackgroundTransparency = 1}):Play()
end
end

TweenService:Create(fakewhite, TweenInfo.new(0.1, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {BackgroundTransparency = 0.8}):Play()

end)

-- actual end
tlbrbtn = tlbrbtn + 36
return latestframe
end

-- tlbr end

function newrail(par,text,icon,icontwo,func)
local exframe = createnew('ScrollingFrame',{BottomImage='rbxasset://textures/ui/Scroll/scroll-middle.png', ScrollBarImageTransparency=0.7,CanvasPosition=Vector2.new(6, 0),CanvasSize=UDim2.new(0, 0, 5, 0),MidImage='rbxasset://textures/ui/Scroll/scroll-middle.png',ScrollBarThickness=6,ScrollingEnabled=true,TopImage='rbxasset://textures/ui/Scroll/scroll-middle.png',Active=false,AnchorPoint=Vector2.new(0, 0),BackgroundColor3=Color3.fromRGB(255,255,255),BackgroundTransparency=1,BorderColor3=Color3.fromRGB(0.105882, 0.164706, 0.207843),BorderSizePixel=0,ClipsDescendants=true,Draggable=false,Position=UDim2.new(0.099, 0, 0, 5),Rotation=0,Selectable=true,Size=UDim2.new(0.92, 0, 0, 600),SizeConstraint=Enum.SizeConstraint.RelativeXY,Visible=false,ZIndex=8,Name=text,Parent = windo.Content})

local navbtn = createnew('Frame',{
ZIndex = 8;
BackgroundColor3 = Color3.fromRGB(0,0,0);
BackgroundTransparency = 0;
Size = UDim2.new(1,0,0,18);
Position = UDim2.new(0,0,0,tonumber(navpos));
BorderSizePixel = 0;
Name = text;
Parent = par;
})

local fakeone = createnew('TextButton',{
ZIndex = 8;
Text = "";
Name = "thisone";
Font = Enum.Font.SourceSansLight;
BackgroundColor3 = Color3.new(1,1,1);
BackgroundTransparency = 1;
TextColor3 = Color3.fromRGB(229, 224, 231);
Size = UDim2.new(0.85,0,0,20);
Position = UDim2.new(0.09,0,0,0);
ClipsDescendants = true;
AutoButtonColor = false;
TextSize = 14;
Parent = navbtn;
})

local fame = createnew('UICorner', {
CornerRadius = UDim.new(0,20);
Parent = fakeone;
})

local group = createnew('CanvasGroup',{
ZIndex = 8;
BackgroundColor3 = Color3.new(1,0,1);
BackgroundTransparency = 1;
Size = UDim2.new(0.85,0,0,20);
Position = UDim2.new(0.09,0,0,0);
Parent = navbtn;
})

local filled = createIcon(icontwo, {
Size = UDim2.new(0, 0, 1, 0);
ImageColor3 = Color3.fromRGB(229, 224, 231);
ZIndex = 8;
Name = "filled";
Position = UDim2.new(0.5,0,0.5,0);
AnchorPoint = Vector2.new(0.5,0.5);
Parent = navbtn;
Visible = false;
})
filled.Size = UDim2.new(0,filled.AbsoluteSize.Y,0,filled.AbsoluteSize.Y)

local unfilled = createIcon(icon, {
Size = UDim2.new(0, 0, 1, 0);
ImageColor3 = Color3.fromRGB(229, 224, 231);
ZIndex = 8;
Name = "unfilled";
Position = UDim2.new(0.5,0,0.5,0);
AnchorPoint = Vector2.new(0.5,0.5);
Parent = navbtn;
})
unfilled.Size = UDim2.new(0,unfilled.AbsoluteSize.Y,0,unfilled.AbsoluteSize.Y)

local faketwo = createnew('TextButton',{
ZIndex = 8;
Name = "frone";
Text = "";
Font = Enum.Font.SourceSansLight;
BackgroundColor3 = Color3.new(1,1,1);
BackgroundTransparency = 1;
TextColor3 = Color3.fromRGB(229, 224, 231);
Size = UDim2.new(1,0,1,0);
Position = UDim2.new(0,0,0,0);
ClipsDescendants = true;
AutoButtonColor = false;
TextSize = 14;
Parent = group;
})

fakeripple(faketwo,Color3.fromRGB(229,224,231))

faketwo.MouseButton1Click:Connect(function()
pcall(function()
gui["Material 3 Hub"].Content.navrail.Home.filled.Visible = false
gui["Material 3 Hub"].Content.navrail.logs.filled.Visible = false
gui["Material 3 Hub"].Content.navrail.Settings.filled.Visible = false
gui["Material 3 Hub"].Content.navrail.Info.filled.Visible = false
gui["Material 3 Hub"].Content.navrail.Home.unfilled.Visible = true
gui["Material 3 Hub"].Content.navrail.logs.unfilled.Visible = true
gui["Material 3 Hub"].Content.navrail.Settings.unfilled.Visible = true
gui["Material 3 Hub"].Content.navrail.Info.unfilled.Visible = true
TweenService:Create(gui["Material 3 Hub"].Content.navrail.Home.thisone, TweenInfo.new(0.1, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {BackgroundTransparency = 1}):Play()
TweenService:Create(gui["Material 3 Hub"].Content.navrail.Info.thisone, TweenInfo.new(0.1, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {BackgroundTransparency = 1}):Play()
TweenService:Create(gui["Material 3 Hub"].Content.navrail.Settings.thisone, TweenInfo.new(0.1, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {BackgroundTransparency = 1}):Play()
TweenService:Create(gui["Material 3 Hub"].Content.navrail.logs.thisone, TweenInfo.new(0.1, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {BackgroundTransparency = 1}):Play()
end)
filled.Visible = true
unfilled.Visible = false
wait(0.1)
TweenService:Create(fakeone, TweenInfo.new(0.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {BackgroundTransparency = 0.8}):Play()

local success, err = pcall(function()
coroutine.wrap(function()
func()
end)()
end)
end)

local fakecorner = createnew('UICorner', {
CornerRadius = UDim.new(0,20);
Parent = group;
})

local textforthing = createnew('TextButton',{
ZIndex = 8;
Text = text;
Font = Enum.Font.SourceSansLight;
BackgroundColor3 = Color3.new(1,1,1);
BackgroundTransparency = 1;
TextColor3 = Color3.fromRGB(229, 224, 231);
Size = UDim2.new(.95,0,0,10);
Position = UDim2.new(0.025,0,0,23);
AutoButtonColor = false;
TextSize = 14;
Parent = navbtn;
})

navpos = navpos + 40
return exframe
end

function hideothers()
gui["Material 3 Hub"].Content.Settings.Visible = false
gui["Material 3 Hub"].Content.Tools.Visible = false
gui["Material 3 Hub"].Content.logs.Visible = false
gui["Material 3 Hub"].Content.Home.Visible = false
gui["Material 3 Hub"].Content.Info.Visible = false
end

local home = newrail(navrail,'Home','rbxassetid://73549862589835','rbxassetid://121736185783017',function()
hideothers()
toolbarmenu.Visible = true
uiclick()
task.wait()
gui["Material 3 Hub"].Content.Tools.Visible = true
end)
local info = newrail(navrail,'Info','rbxassetid://88615350959554','rbxassetid://124126239115001',function()
hideothers()
toolbarmenu.Visible = false
task.wait()
uiclick()
gui["Material 3 Hub"].Content.Info.Visible = true

task.spawn(function()
    while not gui["Material 3 Hub"].Content.Info.VideoFrame.IsLoaded do
        task.wait()
    end
    gui["Material 3 Hub"].Content.Info.VideoFrame:Play()
end)

end)
local settings = newrail(navrail,'Settings','rbxassetid://97019402877636','rbxassetid://133043642198799',function()
hideothers()
toolbarmenu.Visible = false
task.wait()
uiclick()
gui["Material 3 Hub"].Content.Settings.Visible = true
end)
local logs = newrail(navrail,'logs','rbxassetid://103945674619647','rbxassetid://103945674619647',function()
hideothers()
toolbarmenu.Visible = false
task.wait()
uiclick()
gui["Material 3 Hub"].Content.logs.Visible = true
end)

local textlololol = createnew('TextButton',{
ZIndex = 8;
Text = "Created by Tesker103 (@Tesker103 On Youtube, Discord: Tesker103)\nBig Thanks to you Guys for Supporting me B) and\nCredits To Google For Inspiring me to Make This UI :D\nScroll Down a Bit! (Click To Pause)";
Font = Enum.Font.SourceSansLight;
TextScaled = true;
TextXAlignment = Enum.TextXAlignment.Left;
TextYAlignment = Enum.TextYAlignment.Top;
BackgroundColor3 = Color3.new(1,1,1);
BackgroundTransparency = 1;
TextColor3 = Color3.new(1,1,1);
Size = UDim2.new(.95,0,0,99);
Position = UDim2.new(0.025,0,0,tonumber(newpos));
ClipsDescendants = false;
AutoButtonColor = false;
Parent = info;
})

newcheck(true,settings,"Haptic Feedback (Mobile)",function()
if haptics then
haptics = false
else
haptics = true
end
end)

newcheck(true,settings,"Black Toolbar Theme",function()
if blacktheme then
toolbarmenu.BackgroundColor3 = Color3.fromRGB(0,0,0)
uistrokefortlbr.Thickness = 1
blacktheme = false
else
blacktheme = true
toolbarmenu.BackgroundColor3 = Color3.fromRGB(42, 11, 53)
uistrokefortlbr.Thickness = 0
end
end)

newpos = 0

local textforlog = createnew('TextButton',{
ZIndex = 8;
Text = "v2\n- Updated UI to Material 3 Expressive\n\nv2.1\n- Added UI Element ToolBar\n- Fixed Loading Time\n- Updated Settings Menu\n- Added Haptic Feedback Control for Mobile\n- Fixed Navigation Rail Page Indicator";
Font = Enum.Font.SourceSansLight;
TextSize = 20;
TextXAlignment = Enum.TextXAlignment.Left;
TextYAlignment = Enum.TextYAlignment.Top;
BackgroundColor3 = Color3.new(1,1,1);
BackgroundTransparency = 1;
TextColor3 = Color3.new(1,1,1);
Size = UDim2.new(.95,0,0,999);
Position = UDim2.new(0.025,0,0,0);
ClipsDescendants = false;
AutoButtonColor = false;
Parent = logs;
})

local window = tlbr('rbxassetid://97961191715483','rbxassetid://124787561088097')
local windoww = tlbr('rbxassetid://109732106992543','rbxassetid://109732106992543')

local RunService = game:GetService("RunService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Players = game:GetService("Players")

local localPlayer = Players.LocalPlayer
duping = false

RunService.Stepped:Connect(function()
if duping then
    for _, player in ipairs(Players:GetPlayers()) do
        if player ~= localPlayer then
            local character = player.Character
            if character then
                local tool = character:FindFirstChildOfClass("Tool")
                if tool then
                    ReplicatedStorage:WaitForChild("GameEvents"):WaitForChild("SellPet_RE"):FireServer(tool)
                end
            end
        end
    end
    end
end)

newcheck(false,window,"Dupe",function()
if duping then
duping = false
else
duping = true
end
end)

TextLine(window,"For this to work you need another person")
TextLine(window,"in the server holding an pet")

TextLine(window,"any pet can be used to do this")
TextLine(window,"PATCHED IN NEW SERVER, SEE BELOW")

NewBtn(window,"Copy Server Link (Paste In Chrome)","rbxassetid://0",function()
setclipboard("roblox://placeId=91867617264223&gameInstanceId=cda8bbc6-dcd0-416d-841c-167d26121c0f")
end)

NewBtn(window,"Directly Join (No getting Queue [issue])","rbxassetid://0",function()
TeleportService:TeleportToPlaceInstance("91867617264223", "cda8bbc6-dcd0-416d-841c-167d26121c0f", Players.LocalPlayer)
end)

newpos = 0
TextLine(windoww,"Discord: https://discord.gg/xGucmFjGVD")

window.Visible = true

gui["Material 3 Hub"].Content.navrail.Home.thisone.BackgroundTransparency = 0.8

if not isfile("googleintro.mp4") then
    writefile("googleintro.mp4", game:HttpGet("https://github.com/SukritV5/Pythonincog.github.io/raw/refs/heads/Maiin/googleintro.mp4"))
end

local videoFrame = Instance.new("VideoFrame",info)
videoFrame.Size = UDim2.new(0.95, 0, 0, 235)
videoFrame.Position = UDim2.new(0.025, 0, 0, 90)
videoFrame.BackgroundColor3 = Color3.new(0, 0, 0)
videoFrame.Video = getcustomasset("googleintro.mp4")
videoFrame.Looped = true
videoFrame.Volume = 3
videoFrame.ZIndex = 9
videoFrame.BorderSizePixel = 0

local playpause = Instance.new("TextButton",info)
playpause.Size = UDim2.new(0.95, 0, 0, 235)
playpause.Position = UDim2.new(0.025, 0, 0, 90)
playpause.BackgroundColor3 = Color3.new(0, 0, 0)
playpause.BackgroundTransparency = 1
playpause.ZIndex = 9
playpause.Text = ""
playpause.BorderSizePixel = 0
playpause.MouseButton1Click:Connect(function()
if videoFrame.Playing then
videoFrame.Playing = false
else
videoFrame.Playing = true
end
end)


Notify({"rbxassetid://105257344115504", Color3.fromRGB(255,255,255)}, "Support Me", "Support me by subscribing to my channel, Stay tuned for more OP Scripts!\nhttps://www.youtube.com/@Tesker103 (Copied to clipboard)", 5)
setclipboard("https://www.youtube.com/@Tesker103")
